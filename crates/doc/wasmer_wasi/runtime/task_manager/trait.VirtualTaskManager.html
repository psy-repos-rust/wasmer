<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An implementation of task management"><meta name="keywords" content="rust, rustlang, rust-lang, VirtualTaskManager"><title>VirtualTaskManager in wasmer_wasi::runtime::task_manager - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" href="https://wasmer.io/images/icons/favicon-32x32.png"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../wasmer_wasi/index.html"><div class="logo-container"><img src="https://github.com/wasmerio.png?size=200" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../wasmer_wasi/index.html"><div class="logo-container">
                    <img src="https://github.com/wasmerio.png?size=200" alt="logo"></div></a><h2 class="location"><a href="#">VirtualTaskManager</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.build_memory">build_memory</a></li><li><a href="#tymethod.runtime">runtime</a></li><li><a href="#tymethod.runtime_enter">runtime_enter</a></li><li><a href="#tymethod.sleep_now">sleep_now</a></li><li><a href="#tymethod.task_dedicated">task_dedicated</a></li><li><a href="#tymethod.task_shared">task_shared</a></li><li><a href="#tymethod.task_wasm">task_wasm</a></li><li><a href="#tymethod.thread_parallelism">thread_parallelism</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.block_on">block_on</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In wasmer_wasi::runtime::task_manager</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../wasmer_wasi/index.html">
                        <img src="https://github.com/wasmerio.png?size=200" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Trait <a href="../../index.html">wasmer_wasi</a>::<wbr><a href="../index.html">runtime</a>::<wbr><a href="index.html">task_manager</a>::<wbr><a class="trait" href="#">VirtualTaskManager</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#40-82">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait VirtualTaskManager: <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static {
    fn <a href="#tymethod.build_memory" class="fnname">build_memory</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;spawn_type: <a class="enum" href="enum.SpawnType.html" title="enum wasmer_wasi::runtime::task_manager::SpawnType">SpawnType</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.64.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../wasmer_vm/memory/struct.VMMemory.html" title="struct wasmer_vm::memory::VMMemory">VMMemory</a>&gt;, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.sleep_now" class="fnname">sleep_now</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time: <a class="struct" href="../../syscalls/struct.Duration.html" title="struct wasmer_wasi::syscalls::Duration">Duration</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;P&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;P&gt; <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;P&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../../syscalls/trait.DerefMut.html" title="trait wasmer_wasi::syscalls::DerefMut">DerefMut</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;P as <a class="trait" href="../../syscalls/trait.Deref.html" title="trait wasmer_wasi::syscalls::Deref">Deref</a>&gt;::<a class="associatedtype" href="../../syscalls/trait.Deref.html#associatedtype.Target" title="type wasmer_wasi::syscalls::Deref::Target">Target</a>: <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = &lt;&lt;P as <a class="trait" href="../../syscalls/trait.Deref.html" title="trait wasmer_wasi::syscalls::Deref">Deref</a>&gt;::<a class="associatedtype" href="../../syscalls/trait.Deref.html#associatedtype.Target" title="type wasmer_wasi::syscalls::Deref::Target">Target</a> as <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html#associatedtype.Output" title="type core::future::future::Future::Output">Output</a>;</span></code></span></span></span></span><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.task_shared" class="fnname">task_shared</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task: <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() -&gt; <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.runtime" class="fnname">runtime</a>(&amp;self) -&gt; &amp;Handle;
<span class="item-spacer"></span>    fn <a href="#tymethod.runtime_enter" class="fnname">runtime_enter</a>&lt;'g&gt;(&amp;'g self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> + 'g&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;R, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;R&gt; <a class="trait" href="../../syscalls/trait.Read.html" title="trait wasmer_wasi::syscalls::Read">Read</a> for <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;R, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="../../syscalls/trait.Read.html" title="trait wasmer_wasi::syscalls::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;W&gt; <a class="trait" href="../../syscalls/trait.Write.html" title="trait wasmer_wasi::syscalls::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;W, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="../../syscalls/trait.Write.html" title="trait wasmer_wasi::syscalls::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span></code></span></span></span></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.task_wasm" class="fnname">task_wasm</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task: <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.task_dedicated" class="fnname">task_dedicated</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task: <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.thread_parallelism" class="fnname">thread_parallelism</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.usize.html">usize</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An implementation of task management</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.build_memory" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#44">source</a></div><h4 class="code-header">fn <a href="#tymethod.build_memory" class="fnname">build_memory</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;spawn_type: <a class="enum" href="enum.SpawnType.html" title="enum wasmer_wasi::runtime::task_manager::SpawnType">SpawnType</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.64.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../../wasmer_vm/memory/struct.VMMemory.html" title="struct wasmer_vm::memory::VMMemory">VMMemory</a>&gt;, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;</h4></div></summary><div class="docblock"><p>Build a new Webassembly memory.</p>
<p>May return <code>None</code> if the memory can just be auto-constructed.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.sleep_now" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#49">source</a></div><h4 class="code-header">fn <a href="#tymethod.sleep_now" class="fnname">sleep_now</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;time: <a class="struct" href="../../syscalls/struct.Duration.html" title="struct wasmer_wasi::syscalls::Duration">Duration</a><br>) -&gt; <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;P&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;P&gt; <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;P&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../../syscalls/trait.DerefMut.html" title="trait wasmer_wasi::syscalls::DerefMut">DerefMut</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;P as <a class="trait" href="../../syscalls/trait.Deref.html" title="trait wasmer_wasi::syscalls::Deref">Deref</a>&gt;::<a class="associatedtype" href="../../syscalls/trait.Deref.html#associatedtype.Target" title="type wasmer_wasi::syscalls::Deref::Target">Target</a>: <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>,&nbsp;</span></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = &lt;&lt;P as <a class="trait" href="../../syscalls/trait.Deref.html" title="trait wasmer_wasi::syscalls::Deref">Deref</a>&gt;::<a class="associatedtype" href="../../syscalls/trait.Deref.html#associatedtype.Target" title="type wasmer_wasi::syscalls::Deref::Target">Target</a> as <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html#associatedtype.Output" title="type core::future::future::Future::Output">Output</a>;</span></code></span></span></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Invokes whenever a WASM thread goes idle. In some runtimes (like singlethreaded
execution environments) they will need to do asynchronous work whenever the main
thread goes idle and this is the place to hook for that.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.task_shared" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#53-58">source</a></div><h4 class="code-header">fn <a href="#tymethod.task_shared" class="fnname">task_shared</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;task: <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() -&gt; <a class="struct" href="../../syscalls/struct.Pin.html" title="struct wasmer_wasi::syscalls::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;</h4></div></summary><div class="docblock"><p>Starts an asynchronous task that will run on a shared worker pool
This task must not block the execution or it could cause a deadlock</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.runtime" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#61">source</a></div><h4 class="code-header">fn <a href="#tymethod.runtime" class="fnname">runtime</a>(&amp;self) -&gt; &amp;Handle</h4></div></summary><div class="docblock"><p>Returns a runtime that can be used for asynchronous tasks</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.runtime_enter" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#65">source</a></div><h4 class="code-header">fn <a href="#tymethod.runtime_enter" class="fnname">runtime_enter</a>&lt;'g&gt;(&amp;'g self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> + 'g&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;R, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;R&gt; <a class="trait" href="../../syscalls/trait.Read.html" title="trait wasmer_wasi::syscalls::Read">Read</a> for <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;R, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="../../syscalls/trait.Read.html" title="trait wasmer_wasi::syscalls::Read">Read</a> + ?<a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span><span class="where fmt-newline">impl&lt;W&gt; <a class="trait" href="../../syscalls/trait.Write.html" title="trait wasmer_wasi::syscalls::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;W, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;W: <a class="trait" href="../../syscalls/trait.Write.html" title="trait wasmer_wasi::syscalls::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></span></code></span></span></span></span></h4></div></summary><div class="docblock"><p>Enters a runtime context</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.task_wasm" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#70">source</a></div><h4 class="code-header">fn <a href="#tymethod.task_wasm" class="fnname">task_wasm</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;task: <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;</h4></div></summary><div class="docblock"><p>Starts an asynchronous task will will run on a dedicated thread
pulled from the worker pool that has a stateful thread local variable
It is ok for this task to block execution and any async futures within its scope</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.task_dedicated" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#75-78">source</a></div><h4 class="code-header">fn <a href="#tymethod.task_dedicated" class="fnname">task_dedicated</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;task: <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>() + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;</h4></div></summary><div class="docblock"><p>Starts an asynchronous task will will run on a dedicated thread
pulled from the worker pool. It is ok for this task to block execution
and any async futures within its scope</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.thread_parallelism" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#81">source</a></div><h4 class="code-header">fn <a href="#tymethod.thread_parallelism" class="fnname">thread_parallelism</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.usize.html">usize</a>, <a class="enum" href="../../os/task/thread/enum.WasiThreadError.html" title="enum wasmer_wasi::os::task::thread::WasiThreadError">WasiThreadError</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the amount of parallelism that is possible on this platform</p>
</div></details></div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-dyn%20VirtualTaskManager" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#84-91">source</a></span><a href="#impl-dyn%20VirtualTaskManager" class="anchor"></a><h3 class="code-header in-band">impl dyn <a class="trait" href="trait.VirtualTaskManager.html" title="trait wasmer_wasi::runtime::task_manager::VirtualTaskManager">VirtualTaskManager</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.block_on" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/mod.rs.html#88-90">source</a></span><h4 class="code-header">pub fn <a href="#method.block_on" class="fnname">block_on</a>&lt;'a, A&gt;(&amp;self, task: impl <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = A&gt; + 'a) -&gt; A</h4></section></summary><div class="docblock"><p>Execute a future and return the output.
This method blocks until the future is complete.</p>
</div></details></div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><section id="impl-VirtualTaskManager-for-TokioTaskManager" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../../src/wasmer_wasi/runtime/task_manager/tokio.rs.html#72-148">source</a></span><a href="#impl-VirtualTaskManager-for-TokioTaskManager" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.VirtualTaskManager.html" title="trait wasmer_wasi::runtime::task_manager::VirtualTaskManager">VirtualTaskManager</a> for <a class="struct" href="tokio/struct.TokioTaskManager.html" title="struct wasmer_wasi::runtime::task_manager::tokio::TokioTaskManager">TokioTaskManager</a></h3></section></div><script type="text/javascript" src="../../../implementors/wasmer_wasi/runtime/task_manager/trait.VirtualTaskManager.js" data-ignore-extern-crates="" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="wasmer_wasi" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0 (a55dd71d5 2022-09-19)" ></div></body></html>